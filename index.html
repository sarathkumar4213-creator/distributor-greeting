<!DOCTYPE html>
<html>
<head>
  <title>Distributor Greeting Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial;
      text-align: center;
      background: #f2f2f2;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    input {
      padding: 8px;
      width: 260px;
      margin-top: 4px;
    }
    button {
      padding: 10px 20px;
      margin-top: 15px;
      font-size: 16px;
    }
    canvas {
      margin-top: 20px;
      max-width: 100%;
    }
  </style>
</head>
<body>

<h2>Greeting Creator</h2>

<label>Name</label>
<input id="name">

<label>Mobile Number</label>
<input id="mobile">

<label>Email ID</label>
<input id="email">

<label>Distributor Photo (Optional)</label>
<input type="file" id="photo" accept="image/*">

<label>Logo (Optional)</label>
<input type="file" id="logo" accept="image/*">

<button onclick="generate()">Generate Image</button>

<br>
<canvas id="canvas"></canvas>

<br><br>
<a id="download" download="Greeting.png">‚¨á Download Image</a>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

const baseImg = new Image();
baseImg.src = "base-image.jpeg";

baseImg.onload = function () {
  canvas.width = baseImg.width;
  canvas.height = baseImg.height + 220;
  ctx.drawImage(baseImg, 0, 0);
};

function generate() {
  if (!baseImg.complete) {
    alert("Please wait 2 seconds and try again");
    return;
  }

  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.drawImage(baseImg, 0, 0);

  const name = document.getElementById("name").value;
  const mobile = document.getElementById("mobile").value;
  const email = document.getElementById("email").value;
  const photoFile = document.getElementById("photo").files[0];
  const logoFile = document.getElementById("logo").files[0];

  const baseY = baseImg.height;
  const extraHeight = 220;

  const gradient = ctx.createLinearGradient(0, baseY, 0, baseY + extraHeight);
  gradient.addColorStop(0, "#0f4c81");
  gradient.addColorStop(1, "#a31621");

  ctx.fillStyle = gradient;
  ctx.fillRect(0, baseY, canvas.width, extraHeight);

  ctx.fillStyle = "#fff";
  ctx.textAlign = "left";

  ctx.font = "30px Arial";
  ctx.fillText(name, 40, baseY + 45);

  ctx.font = "24px Arial";
  ctx.fillText("Mutual Fund Distributor", 40, baseY + 80);

  ctx.font = "22px Arial";
  ctx.fillText("üìû " + mobile, 40, baseY + 120);
  ctx.fillText("‚úâÔ∏è " + email, 40, baseY + 160);

  if (photoFile) {
    const photoImg = new Image();
    photoImg.onload = function () {
      ctx.drawImage(photoImg, canvas.width - 160, baseY + 50, 120, 120);
      drawLogo();
    };
    photoImg.src = URL.createObjectURL(photoFile);
  } else {
    drawLogo();
  }

  function drawLogo() {
    if (logoFile) {
      const logoImg = new Image();
      logoImg.onload = function () {
        ctx.drawImage(logoImg, 20, 20, 120, 120);
        document.getElementById("download").href = canvas.toDataURL();
      };
      logoImg.src = URL.createObjectURL(logoFile);
    } else {
      document.getElementById("download").href = canvas.toDataURL();
    }
  }
}
</script>

</body>
</html>

